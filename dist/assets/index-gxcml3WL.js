import{_ as L,V as N,a as T,b as B,c as E,d as S,e as D}from"./AppBar-DM9jA0lH.js";import{l as R}from"./index-NsU1tN7b.js";import{a as k,b as z}from"./index-BA41vzv-.js";import{r as v,o as A,a as G,b as o,c as r,d as e,e as p,w as t,f as l,u as f,F as _,g as O,h as b,i as n,t as u,j as w}from"./index-DvVByYbY.js";import{V as g}from"./VContainer-B08sewyi.js";import{V}from"./VRow-DS5sCb_f.js";import{V as h}from"./VCol-C6ZhQTKM.js";import{V as x}from"./VCardTitle-BBBAXpNz.js";import{V as $}from"./VSkeletonLoader-DRBihl7H.js";import{V as y}from"./VChip-SfnXZfh0.js";import"./forwardRefs-De2f303C.js";const j={class:"px-4 mb-8"},F={key:0},M={key:1},Q={key:2},oe={__name:"index",setup(P){let d=v([]);const i=v(!1);async function C(){try{const s=await z.get(k.quizzesURL,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});console.log(s.data.quiz),d.value=s.data.quiz}catch(s){console.log(s),s.status===401&&(console.log("NOT LOGGED IN"),localStorage.clear(),O.push("/login"))}}const m=R(k.baseURL);return m.on("connect",()=>{console.log(m.id)}),m.on("quiz_updated",async s=>{console.log(s),await C()}),A(async()=>{i.value=!0,await C(),i.value=!1}),(s,c)=>{const U=G("router-link");return o(),r(_,null,[e(L),i.value?(o(),p(g,{key:0},{default:t(()=>[e(V,null,{default:t(()=>[(o(),r(_,null,b(2,a=>e(h,{cols:"4",key:a},{default:t(()=>[e($,{class:"mx-auto border","max-width":"300",type:"image, article, button"})]),_:2},1024)),64))]),_:1})]),_:1})):l("",!0),f(d).length===0?(o(),p(g,{key:1,style:{border:"1px solid #fdf","border-radius":"1rem",width:"100%",height:"80vh"}},{default:t(()=>[e(V,null,{default:t(()=>[e(h,{cols:"12"},{default:t(()=>[e(x,{style:{"margin-top":"18%","margin-left":"50%",transform:"translateX(-50%)",width:"300px"}},{default:t(()=>c[0]||(c[0]=[n(" Quizzes will appear here ")])),_:1})]),_:1})]),_:1})]),_:1})):l("",!0),e(g,null,{default:t(()=>[e(V,{"no-gutters":""},{default:t(()=>[f(d).length>0?(o(!0),r(_,{key:0},b(f(d),(a,I)=>(o(),p(h,{cols:"12",xxl:"4",xl:"4",lg:"4",md:"6",sm:"12",xs:"12",key:I,variant:"elevated"},{default:t(()=>[e(U,{to:`join/${a.id}`,style:{"text-decoration":"none"}},{default:t(()=>[e(N,{loading:i.value,class:"mx-auto my-12 ma-16","max-width":"330",elevation:"3"},{default:t(()=>[e(T,{height:"250",src:a.thumbnail,cover:""},null,8,["src"]),e(B,null,{default:t(()=>[e(x,null,{default:t(()=>[n(u(a.title),1)]),_:2},1024)]),_:2},1024),e(E,null,{default:t(()=>[w("div",null,u(a.description),1)]),_:2},1024),e(S,{class:"mx-4 mb-1"}),e(x,null,{default:t(()=>c[1]||(c[1]=[n("Status")])),_:1}),w("div",j,[a.status.toUpperCase()==="WAITING"?(o(),r("div",F,[e(y,{color:"orange"},{default:t(()=>[n(u(a.status.toUpperCase()),1)]),_:2},1024)])):l("",!0),a.status.toUpperCase()==="LIVE"?(o(),r("div",M,[e(y,{color:"green"},{default:t(()=>[n(u(a.status.toUpperCase()),1)]),_:2},1024)])):l("",!0),a.status.toUpperCase()==="COMPLETED"?(o(),r("div",Q,[e(y,{color:"red"},{default:t(()=>[n(u(a.status.toUpperCase()),1)]),_:2},1024)])):l("",!0)]),e(D)]),_:2},1032,["loading"])]),_:2},1032,["to"])]),_:2},1024))),128)):l("",!0)]),_:1})]),_:1})],64)}}};export{oe as default};
