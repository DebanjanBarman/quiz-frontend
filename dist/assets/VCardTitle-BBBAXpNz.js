import{a as oe,E as ae}from"./forwardRefs-De2f303C.js";import{k as se,aa as ue,aH as ie,L as le,p as D,D as V,a3 as re,ai as F,a4 as K,J as Z,aF as ce,aI as ve,z as v,H as de,r as fe,E as L,a0 as O,o as me,aJ as pe,ay as ye}from"./index-DvVByYbY.js";function ge(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",u=arguments.length>2?arguments[2]:void 0;return se()({name:u??ue(ie(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...oe()},setup(n,a){let{slots:i}=a;return()=>{var l;return le(n.tag,{class:[e,n.class],style:n.style},(l=i.default)==null?void 0:l.call(i))}}})}const _=Symbol.for("vuetify:layout"),q=Symbol.for("vuetify:layout-item"),B=1e3,$e=D({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),we=D({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function ze(){const e=V(_);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Le(e){const t=V(_);if(!t)throw new Error("[Vuetify] Could not find injected layout");const u=e.id??`layout-item-${re()}`,n=F("useLayoutItem");K(q,{id:u});const a=Z(!1);ce(()=>a.value=!0),ve(()=>a.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:l}=t.register(n,{...e,active:v(()=>a.value?!1:e.active.value),id:u});return de(()=>t.unregister(u)),{layoutItemStyles:i,layoutRect:t.layoutRect,layoutItemScrimStyles:l}}const be=(e,t,u,n)=>{let a={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...a}}];for(const l of e){const f=t.get(l),b=u.get(l),y=n.get(l);if(!f||!b||!y)continue;const g={...a,[f.value]:parseInt(a[f.value],10)+(y.value?parseInt(b.value,10):0)};i.push({id:l,layer:g}),a=g}return i};function Re(e){const t=V(_,null),u=v(()=>t?t.rootZIndex.value-100:B),n=fe([]),a=L(new Map),i=L(new Map),l=L(new Map),f=L(new Map),b=L(new Map),{resizeRef:y,contentRect:g}=ae(),R=v(()=>{const s=new Map,d=e.overlaps??[];for(const o of d.filter(c=>c.includes(":"))){const[c,r]=o.split(":");if(!n.value.includes(c)||!n.value.includes(r))continue;const m=a.get(c),h=a.get(r),$=i.get(c),w=i.get(r);!m||!h||!$||!w||(s.set(r,{position:m.value,amount:parseInt($.value,10)}),s.set(c,{position:h.value,amount:-parseInt(w.value,10)}))}return s}),I=v(()=>{const s=[...new Set([...l.values()].map(o=>o.value))].sort((o,c)=>o-c),d=[];for(const o of s){const c=n.value.filter(r=>{var m;return((m=l.get(r))==null?void 0:m.value)===o});d.push(...c)}return be(d,a,i,f)}),A=v(()=>!Array.from(b.values()).some(s=>s.value)),x=v(()=>I.value[I.value.length-1].layer),X=v(()=>({"--v-layout-left":O(x.value.left),"--v-layout-right":O(x.value.right),"--v-layout-top":O(x.value.top),"--v-layout-bottom":O(x.value.bottom),...A.value?void 0:{transition:"none"}})),S=v(()=>I.value.slice(1).map((s,d)=>{let{id:o}=s;const{layer:c}=I.value[d],r=i.get(o),m=a.get(o);return{id:o,...c,size:Number(r.value),position:m.value}})),H=s=>S.value.find(d=>d.id===s),C=F("createLayout"),j=Z(!1);me(()=>{j.value=!0}),K(_,{register:(s,d)=>{let{id:o,order:c,position:r,layoutSize:m,elementSize:h,active:$,disableTransitions:w,absolute:G}=d;l.set(o,c),a.set(o,r),i.set(o,m),f.set(o,$),w&&b.set(o,w);const N=pe(q,C==null?void 0:C.vnode).indexOf(s);N>-1?n.value.splice(N,0,o):n.value.push(o);const U=v(()=>S.value.findIndex(z=>z.id===o)),E=v(()=>u.value+I.value.length*2-U.value*2),Q=v(()=>{const z=r.value==="left"||r.value==="right",P=r.value==="right",te=r.value==="bottom",M=h.value??m.value,ne=M===0?"%":"px",k={[r.value]:0,zIndex:E.value,transform:`translate${z?"X":"Y"}(${($.value?0:-(M===0?100:M))*(P||te?-1:1)}${ne})`,position:G.value||u.value!==B?"absolute":"fixed",...A.value?void 0:{transition:"none"}};if(!j.value)return k;const p=S.value[U.value];if(!p)throw new Error(`[Vuetify] Could not find layout item "${o}"`);const T=R.value.get(o);return T&&(p[T.position]+=T.amount),{...k,height:z?`calc(100% - ${p.top}px - ${p.bottom}px)`:h.value?`${h.value}px`:void 0,left:P?void 0:`${p.left}px`,right:P?`${p.right}px`:void 0,top:r.value!=="bottom"?`${p.top}px`:void 0,bottom:r.value!=="top"?`${p.bottom}px`:void 0,width:z?h.value?`${h.value}px`:void 0:`calc(100% - ${p.left}px - ${p.right}px)`}}),ee=v(()=>({zIndex:E.value-1}));return{layoutItemStyles:Q,layoutItemScrimStyles:ee,zIndex:E}},unregister:s=>{l.delete(s),a.delete(s),i.delete(s),f.delete(s),b.delete(s),n.value=n.value.filter(d=>d!==s)},mainRect:x,mainStyles:X,getLayoutItem:H,items:S,layoutRect:g,rootZIndex:u});const W=v(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),Y=v(()=>({zIndex:t?u.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:W,layoutStyles:Y,getLayoutItem:H,items:S,layoutRect:g,layoutRef:y}}function he(e,t){if(!ye)return;const u=t.modifiers||{},n=t.value,{handler:a,options:i}=typeof n=="object"?n:{handler:n,options:{}},l=new IntersectionObserver(function(){var R;let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],b=arguments.length>1?arguments[1]:void 0;const y=(R=e._observe)==null?void 0:R[t.instance.$.uid];if(!y)return;const g=f.some(I=>I.isIntersecting);a&&(!u.quiet||y.init)&&(!u.once||g||y.init)&&a(g,f,b),g&&u.once?J(e,t):y.init=!0},i);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:l},l.observe(e)}function J(e,t){var n;const u=(n=e._observe)==null?void 0:n[t.instance.$.uid];u&&(u.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Oe={mounted:he,unmounted:J},_e=ge("v-card-title");export{Oe as I,_e as V,_ as a,we as b,Re as c,Le as d,ge as e,$e as m,ze as u};
