import{_ as I,V as U,a as B,b as L,c as T,d as E}from"./AppBar-DM9jA0lH.js";import{b as S,a as D}from"./index-BA41vzv-.js";import{r as y,q as G,o as R,a as O,b as o,c as n,d as e,w as t,e as _,f as u,u as g,F as V,i as s,h as v,t as d,j as C}from"./index-DvVByYbY.js";import{V as f}from"./VContainer-B08sewyi.js";import{V as c}from"./VRow-DS5sCb_f.js";import{V as p}from"./VCol-C6ZhQTKM.js";import{V as Q}from"./forwardRefs-De2f303C.js";import{V as h}from"./VCardTitle-BBBAXpNz.js";import{V as $}from"./VSkeletonLoader-DRBihl7H.js";import{V as x}from"./VChip-SfnXZfh0.js";const A={class:"px-4 mb-8"},F={key:0},M={key:1},j={key:2},te={__name:"admin",setup(z){let i=y([]);const m=y(!1),k=G();async function w(){try{const l=await S.get(D.myQuizzesURL,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});console.log(l.data.quiz),i.value=l.data.quiz}catch(l){console.log(l),l.status===401&&(console.log("NOT LOGGED IN"),localStorage.clear(),await k.push("/login"))}}return R(async()=>{m.value=!0,await w(),m.value=!1}),(l,r)=>{const b=O("router-link");return o(),n(V,null,[e(I),e(f,null,{default:t(()=>[e(c,{class:"mx-4 my-3"},{default:t(()=>[e(p,null,{default:t(()=>[e(Q,{variant:"outlined",color:"success","prepend-icon":"mdi-plus",to:"admin/new",style:{float:"right"}},{default:t(()=>r[0]||(r[0]=[s("New Quiz ")])),_:1})]),_:1})]),_:1})]),_:1}),m.value?(o(),_(f,{key:0},{default:t(()=>[e(c,null,{default:t(()=>[(o(),n(V,null,v(2,a=>e(p,{cols:"4",key:a},{default:t(()=>[e($,{class:"mx-auto border","max-width":"300",type:"image, article, button"})]),_:2},1024)),64))]),_:1})]),_:1})):u("",!0),g(i).length===0?(o(),_(f,{key:1,style:{border:"1px solid #fdf","border-radius":"1rem",width:"100%",height:"80vh"}},{default:t(()=>[e(c,null,{default:t(()=>[e(p,{cols:"12"},{default:t(()=>[e(h,{style:{"margin-top":"18%","margin-left":"50%",transform:"translateX(-50%)",width:"300px"}},{default:t(()=>r[1]||(r[1]=[s(" Games will appear here ")])),_:1})]),_:1})]),_:1})]),_:1})):u("",!0),e(f,null,{default:t(()=>[e(c,{"no-gutters":""},{default:t(()=>[g(i).length>0?(o(!0),n(V,{key:0},v(g(i),(a,N)=>(o(),_(p,{cols:"12",xxl:"4",xl:"4",lg:"4",md:"6",sm:"12",xs:"12",key:N,variant:"elevated"},{default:t(()=>[e(b,{to:`admin/${a.id}`,style:{"text-decoration":"none"}},{default:t(()=>[e(U,{loading:m.value,class:"mx-auto my-12 ma-16","max-width":"330",elevation:"3"},{default:t(()=>[e(B,{height:"250",src:a.thumbnail,cover:""},null,8,["src"]),e(L,null,{default:t(()=>[e(h,null,{default:t(()=>[s(d(a.title),1)]),_:2},1024)]),_:2},1024),e(T,null,{default:t(()=>[C("div",null,d(a.description),1)]),_:2},1024),e(E,{class:"mx-4 mb-1"}),e(h,null,{default:t(()=>r[2]||(r[2]=[s("Status")])),_:1}),C("div",A,[a.status.toUpperCase()==="WAITING"?(o(),n("div",F,[e(x,{color:"orange"},{default:t(()=>[s(d(a.status.toUpperCase()),1)]),_:2},1024)])):u("",!0),a.status.toUpperCase()==="LIVE"?(o(),n("div",M,[e(x,{color:"green"},{default:t(()=>[s(d(a.status.toUpperCase()),1)]),_:2},1024)])):u("",!0),a.status.toUpperCase()==="COMPLETED"?(o(),n("div",j,[e(x,{color:"red"},{default:t(()=>[s(d(a.status.toUpperCase()),1)]),_:2},1024)])):u("",!0)])]),_:2},1032,["loading"])]),_:2},1032,["to"])]),_:2},1024))),128)):u("",!0)]),_:1})]),_:1})],64)}}};export{te as default};
